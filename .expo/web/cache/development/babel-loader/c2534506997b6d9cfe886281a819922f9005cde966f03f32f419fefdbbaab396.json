{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePreventRemove = usePreventRemove;\nvar _nonSecure = require(\"nanoid/non-secure\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useLatestCallback = _interopRequireDefault(require(\"use-latest-callback\"));\nvar _useNavigation = require(\"./useNavigation.js\");\nvar _usePreventRemoveContext = require(\"./usePreventRemoveContext.js\");\nvar _useRoute = require(\"./useRoute.js\");\nfunction _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n}\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    default: e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n.default = e, t && t.set(e, n), n;\n}\nfunction usePreventRemove(preventRemove, callback) {\n  var _React$useState = React.useState(function () {\n      return (0, _nonSecure.nanoid)();\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    id = _React$useState2[0];\n  var navigation = (0, _useNavigation.useNavigation)();\n  var _ref = (0, _useRoute.useRoute)(),\n    routeKey = _ref.key;\n  var _ref2 = (0, _usePreventRemoveContext.usePreventRemoveContext)(),\n    setPreventRemove = _ref2.setPreventRemove;\n  React.useEffect(function () {\n    setPreventRemove(id, routeKey, preventRemove);\n    return function () {\n      setPreventRemove(id, routeKey, false);\n    };\n  }, [setPreventRemove, id, routeKey, preventRemove]);\n  var beforeRemoveListener = (0, _useLatestCallback.default)(function (e) {\n    if (!preventRemove) {\n      return;\n    }\n    e.preventDefault();\n    callback({\n      data: e.data\n    });\n  });\n  React.useEffect(function () {\n    return navigation == null ? void 0 : navigation.addListener('beforeRemove', beforeRemoveListener);\n  }, [navigation, beforeRemoveListener]);\n}","map":{"version":3,"names":["_nonSecure","require","React","_interopRequireWildcard","_useLatestCallback","_interopRequireDefault","_useNavigation","_usePreventRemoveContext","_useRoute","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","usePreventRemove","preventRemove","callback","_React$useState","useState","nanoid","_React$useState2","_slicedToArray","id","navigation","useNavigation","_ref","useRoute","routeKey","key","_ref2","usePreventRemoveContext","setPreventRemove","useEffect","beforeRemoveListener","preventDefault","data","addListener"],"sources":["C:\\Users\\R User\\Documents\\software_dev\\BranchBuddy\\node_modules\\@react-navigation\\core\\src\\usePreventRemove.tsx"],"sourcesContent":["import type { NavigationAction } from '@react-navigation/routers';\nimport { nanoid } from 'nanoid/non-secure';\nimport * as React from 'react';\nimport useLatestCallback from 'use-latest-callback';\n\nimport type { EventListenerCallback, EventMapCore } from './types';\nimport { useNavigation } from './useNavigation';\nimport { usePreventRemoveContext } from './usePreventRemoveContext';\nimport { useRoute } from './useRoute';\n\n/**\n * Hook to prevent screen from being removed. Can be used to prevent users from leaving the screen.\n *\n * @param preventRemove Boolean indicating whether to prevent screen from being removed.\n * @param callback Function which is executed when screen was prevented from being removed.\n */\nexport function usePreventRemove(\n  preventRemove: boolean,\n  callback: (options: { data: { action: NavigationAction } }) => void\n) {\n  const [id] = React.useState(() => nanoid());\n\n  const navigation = useNavigation();\n  const { key: routeKey } = useRoute();\n\n  const { setPreventRemove } = usePreventRemoveContext();\n\n  React.useEffect(() => {\n    setPreventRemove(id, routeKey, preventRemove);\n    return () => {\n      setPreventRemove(id, routeKey, false);\n    };\n  }, [setPreventRemove, id, routeKey, preventRemove]);\n\n  const beforeRemoveListener = useLatestCallback<\n    EventListenerCallback<EventMapCore<any>, 'beforeRemove'>\n  >((e) => {\n    if (!preventRemove) {\n      return;\n    }\n\n    e.preventDefault();\n\n    callback({ data: e.data });\n  });\n\n  React.useEffect(\n    () => navigation?.addListener('beforeRemove', beforeRemoveListener),\n    [navigation, beforeRemoveListener]\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}